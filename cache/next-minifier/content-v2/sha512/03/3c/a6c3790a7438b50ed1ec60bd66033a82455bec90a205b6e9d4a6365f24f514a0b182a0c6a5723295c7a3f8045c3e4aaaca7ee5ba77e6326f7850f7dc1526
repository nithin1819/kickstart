{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{\"2fyc\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"o0o1\"),a=n.n(r),s=n(\"1OyB\"),c=n(\"vuIU\"),u=n(\"JX7q\"),i=n(\"Ji7U\"),o=n(\"md7G\"),l=n(\"foSv\"),p=n(\"rePB\"),f=n(\"q1tI\"),d=n.n(f),h=n(\"vFsZ\"),v=n(\"umxb\"),b=n(\"TbSc\"),g=n(\"QetY\"),m=n(\"VC3L\"),y=n(\"oZBQ\"),w=n(\"8cHP\"),O=n(\"5Yp1\"),R=d.a.createElement;function S(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var a=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}var j=function(e){Object(i.a)(n,e);var t=S(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),Object(p.a)(Object(u.a)(e),\"state\",{value:\"\",description:\"\",recipient:\"\",errorMessage:\"\",loading:!1}),Object(p.a)(Object(u.a)(e),\"onSubmit\",(function(t){var n,r,s,c,u,i;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t.preventDefault(),n=Object(m.a)(e.props.address),r=e.state,s=r.description,c=r.value,u=r.recipient,e.setState({loading:!0,errorMessage:\"\"}),o.prev=4,o.next=7,a.a.awrap(y.a.eth.getAccounts());case 7:return i=o.sent,o.next=10,a.a.awrap(n.methods.createRequest(s,y.a.utils.toWei(c,\"ether\"),u).send({from:i[0]}));case 10:w.Router.pushRoute(\"/campaigns/\".concat(e.props.address,\"/requests\")),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(4),e.setState({errorMessage:o.t0.message});case 16:e.setState({loading:!1,description:\"\",value:\"\",recipient:\"\"});case 17:case\"end\":return o.stop()}}),null,null,[[4,13]],Promise)})),e}return Object(c.a)(n,[{key:\"render\",value:function(){var e=this;return R(O.a,null,R(w.Link,{route:\"/campaigns/\".concat(this.props.address,\"/requests\")},R(\"a\",null,\"Back\")),R(\"h3\",null,\"Create a Request\"),R(h.a,{onSubmit:this.onSubmit,error:!!this.state.errorMessage},R(h.a.Field,null,R(\"label\",null,\"Description\"),R(v.a,{value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})),R(h.a.Field,null,R(\"label\",null,\"Value in ether\"),R(v.a,{value:this.state.value,onChange:function(t){return e.setState({value:t.target.value})}})),R(h.a.Field,null,R(\"label\",null,\"Recipient\"),R(v.a,{value:this.state.recipient,onChange:function(t){return e.setState({recipient:t.target.value})}})),R(b.a,{error:!0,header:\"Oops!\",content:this.state.errorMessage}),R(g.a,{loading:this.state.loading,primary:!0,type:\"submit\"},\"Create!\")))}}],[{key:\"getInitialProps\",value:function(e){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.query.address,n.abrupt(\"return\",{address:t});case 2:case\"end\":return n.stop()}}),null,null,null,Promise)}}]),n}(f.Component);t.default=j},NRVn:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/campaigns/requests/new\",function(){return n(\"2fyc\")}])}},[[\"NRVn\",0,2,1,3,4,5]]]);","extractedComments":[]}