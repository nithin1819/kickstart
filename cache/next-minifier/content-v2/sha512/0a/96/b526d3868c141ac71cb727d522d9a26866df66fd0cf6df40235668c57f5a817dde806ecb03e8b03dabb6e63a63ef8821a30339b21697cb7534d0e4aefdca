{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Mybo:function(e,t,a){\"use strict\";a.r(t);var r=a(\"o0o1\"),n=a.n(r),l=a(\"1OyB\"),c=a(\"vuIU\"),s=a(\"Ji7U\"),o=a(\"md7G\"),i=a(\"foSv\"),u=a(\"q1tI\"),p=a.n(u),d=a(\"8cHP\"),b=a(\"QetY\"),f=a(\"pVnL\"),v=a.n(f),m=(a(\"Wt1U\"),a(\"3WF5\")),O=a.n(m),j=a(\"TSYQ\"),h=a.n(j),g=(a(\"c31U\"),a(\"ZeOK\")),w=a(\"ICNK\"),y=a(\"Y53p\"),C=a(\"H+2d\");function R(e){var t=e.children,a=e.className,r=h()(a),n=Object(w.a)(R,e),l=Object(y.a)(R,e);return p.a.createElement(l,v()({},n,{className:r}),t)}R.handledProps=[\"as\",\"children\",\"className\"],R.defaultProps={as:\"tbody\"},R.propTypes={};var A=R,N=a(\"MZgk\"),P=a(\"D1pA\");function q(e){var t=e.active,a=e.children,r=e.className,n=e.collapsing,l=e.content,c=e.disabled,s=e.error,o=e.icon,i=e.negative,u=e.positive,d=e.selectable,b=e.singleLine,f=e.textAlign,m=e.verticalAlign,O=e.warning,j=e.width,R=h()(Object(g.a)(t,\"active\"),Object(g.a)(n,\"collapsing\"),Object(g.a)(c,\"disabled\"),Object(g.a)(s,\"error\"),Object(g.a)(i,\"negative\"),Object(g.a)(u,\"positive\"),Object(g.a)(d,\"selectable\"),Object(g.a)(b,\"single line\"),Object(g.a)(O,\"warning\"),Object(g.d)(f),Object(g.f)(m),Object(g.g)(j,\"wide\"),r),A=Object(w.a)(q,e),N=Object(y.a)(q,e);return C.a.isNil(a)?p.a.createElement(N,v()({},A,{className:R}),P.a.create(o),l):p.a.createElement(N,v()({},A,{className:R}),a)}q.handledProps=[\"active\",\"as\",\"children\",\"className\",\"collapsing\",\"content\",\"disabled\",\"error\",\"icon\",\"negative\",\"positive\",\"selectable\",\"singleLine\",\"textAlign\",\"verticalAlign\",\"warning\",\"width\"],q.defaultProps={as:\"td\"},q.propTypes={},q.create=Object(N.e)(q,(function(e){return{content:e}}));var x=q;function k(e){var t=e.children,a=e.className,r=e.content,n=e.fullWidth,l=h()(Object(g.a)(n,\"full-width\"),a),c=Object(w.a)(k,e),s=Object(y.a)(k,e);return p.a.createElement(s,v()({},c,{className:l}),C.a.isNil(t)?r:t)}k.handledProps=[\"as\",\"children\",\"className\",\"content\",\"fullWidth\"],k.defaultProps={as:\"thead\"},k.propTypes={};var E=k;function B(e){var t=e.as,a=Object(w.a)(B,e);return p.a.createElement(E,v()({},a,{as:t}))}B.handledProps=[\"as\"],B.propTypes={},B.defaultProps={as:\"tfoot\"};var H=B;function T(e){var t=e.as,a=e.className,r=e.sorted,n=h()(Object(g.e)(r,\"sorted\"),a),l=Object(w.a)(T,e);return p.a.createElement(x,v()({},l,{as:t,className:n}))}T.handledProps=[\"as\",\"className\",\"sorted\"],T.propTypes={},T.defaultProps={as:\"th\"};var D=T;function L(e){var t=e.active,a=e.cellAs,r=e.cells,n=e.children,l=e.className,c=e.disabled,s=e.error,o=e.negative,i=e.positive,u=e.textAlign,d=e.verticalAlign,b=e.warning,f=h()(Object(g.a)(t,\"active\"),Object(g.a)(c,\"disabled\"),Object(g.a)(s,\"error\"),Object(g.a)(o,\"negative\"),Object(g.a)(i,\"positive\"),Object(g.a)(b,\"warning\"),Object(g.d)(u),Object(g.f)(d),l),m=Object(w.a)(L,e),j=Object(y.a)(L,e);return C.a.isNil(n)?p.a.createElement(j,v()({},m,{className:f}),O()(r,(function(e){return x.create(e,{defaultProps:{as:a}})}))):p.a.createElement(j,v()({},m,{className:f}),n)}L.handledProps=[\"active\",\"as\",\"cellAs\",\"cells\",\"children\",\"className\",\"disabled\",\"error\",\"negative\",\"positive\",\"textAlign\",\"verticalAlign\",\"warning\"],L.defaultProps={as:\"tr\",cellAs:\"td\"},L.propTypes={},L.create=Object(N.e)(L,(function(e){return{cells:e}}));var U=L;function z(e){var t=e.attached,a=e.basic,r=e.celled,n=e.children,l=e.className,c=e.collapsing,s=e.color,o=e.columns,i=e.compact,u=e.definition,d=e.fixed,b=e.footerRow,f=e.headerRow,m=e.headerRows,j=e.inverted,R=e.padded,N=e.renderBodyRow,P=e.selectable,q=e.singleLine,x=e.size,k=e.sortable,B=e.stackable,T=e.striped,D=e.structured,L=e.tableData,F=e.textAlign,I=e.unstackable,_=e.verticalAlign,W=h()(\"ui\",s,x,Object(g.a)(r,\"celled\"),Object(g.a)(c,\"collapsing\"),Object(g.a)(u,\"definition\"),Object(g.a)(d,\"fixed\"),Object(g.a)(j,\"inverted\"),Object(g.a)(P,\"selectable\"),Object(g.a)(q,\"single line\"),Object(g.a)(k,\"sortable\"),Object(g.a)(B,\"stackable\"),Object(g.a)(T,\"striped\"),Object(g.a)(D,\"structured\"),Object(g.a)(I,\"unstackable\"),Object(g.b)(t,\"attached\"),Object(g.b)(a,\"basic\"),Object(g.b)(i,\"compact\"),Object(g.b)(R,\"padded\"),Object(g.d)(F),Object(g.f)(_),Object(g.g)(o,\"column\"),\"table\",l),J=Object(w.a)(z,e),S=Object(y.a)(z,e);if(!C.a.isNil(n))return p.a.createElement(S,v()({},J,{className:W}),n);var Y={defaultProps:{cellAs:\"th\"}},M=(f||m)&&p.a.createElement(E,null,U.create(f,Y),O()(m,(function(e){return U.create(e,Y)})));return p.a.createElement(S,v()({},J,{className:W}),M,p.a.createElement(A,null,N&&O()(L,(function(e,t){return U.create(N(e,t))}))),b&&p.a.createElement(H,null,U.create(b)))}z.handledProps=[\"as\",\"attached\",\"basic\",\"celled\",\"children\",\"className\",\"collapsing\",\"color\",\"columns\",\"compact\",\"definition\",\"fixed\",\"footerRow\",\"headerRow\",\"headerRows\",\"inverted\",\"padded\",\"renderBodyRow\",\"selectable\",\"singleLine\",\"size\",\"sortable\",\"stackable\",\"striped\",\"structured\",\"tableData\",\"textAlign\",\"unstackable\",\"verticalAlign\"],z.defaultProps={as:\"table\"},z.propTypes={},z.Body=A,z.Cell=x,z.Footer=H,z.Header=E,z.HeaderCell=D,z.Row=U;var F=z,I=a(\"5Yp1\"),_=a(\"VC3L\"),W=a(\"JX7q\"),J=a(\"rePB\"),S=a(\"oZBQ\"),Y=p.a.createElement;function M(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(i.a)(e);if(t){var n=Object(i.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(o.a)(this,a)}}var Q=function(e){Object(s.a)(a,e);var t=M(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return e=t.call.apply(t,[this].concat(c)),Object(J.a)(Object(W.a)(e),\"onApprove\",(function(){var t,a;return n.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=Object(_.a)(e.props.address),r.next=3,n.a.awrap(S.a.eth.getAccounts());case 3:return a=r.sent,r.next=6,n.a.awrap(t.methods.approveRequest(e.props.id).send({from:a[0]}));case 6:case\"end\":return r.stop()}}),null,null,null,Promise)})),Object(J.a)(Object(W.a)(e),\"onFinalize\",(function(){var t,a;return n.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=Object(_.a)(e.props.address),r.next=3,n.a.awrap(S.a.eth.getAccounts());case 3:return a=r.sent,r.next=6,n.a.awrap(t.methods.finalizeRequest(e.props.id).send({from:a[0]}));case 6:case\"end\":return r.stop()}}),null,null,null,Promise)})),e}return Object(c.a)(a,[{key:\"render\",value:function(){var e=this.props,t=e.request,a=e.id,r=e.approversCount,n=t.approvalCount>r/2;return Y(F.Row,{disabled:t.complete,positive:!!n&&!t.complete},Y(F.Cell,null,a),Y(F.Cell,null,t.description),Y(F.Cell,null,S.a.utils.fromWei(t.value,\"ether\")),Y(F.Cell,null,t.recipient),Y(F.Cell,null,t.approvalCount,\"/\",r),Y(F.Cell,null,t.complete?null:Y(b.a,{color:\"green\",basic:!0,onClick:this.onApprove},\"Approve\")),Y(F.Cell,null,t.complete?null:Y(b.a,{color:\"teal\",basic:!0,onClick:this.onFinalize},\"Finalize\")))}}]),a}(u.Component),X=p.a.createElement;function Z(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(i.a)(e);if(t){var n=Object(i.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(o.a)(this,a)}}var K=function(e){Object(s.a)(a,e);var t=Z(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:\"renderRow\",value:function(){var e=this;return this.props.requests.map((function(t,a){return X(Q,{onRequestsUpdate:e.onRequestsUpdate,request:t,key:a,id:a,address:e.props.address,approversCount:e.props.approversCount})}))}},{key:\"render\",value:function(){return X(I.a,null,X(d.Link,{route:\"/campaigns/\".concat(this.props.address)},X(\"a\",null,\"Back\")),X(\"h3\",null,\"Requests\"),X(d.Link,{route:\"/campaigns/\".concat(this.props.address,\"/requests/new\")},X(\"a\",null,X(b.a,{primary:!0,floated:\"right\",style:{marginBottom:10}},\"Add Request\"))),X(d.Link,{route:\"/campaigns/\".concat(this.props.address,\"/requests/\")},X(\"a\",null,X(b.a,{primary:!0,floated:\"left\",style:{marginBottom:10}},\"Refresh\"))),X(F,null,X(F.Header,null,X(F.Row,null,X(F.HeaderCell,null,\"ID\"),X(F.HeaderCell,null,\"Description\"),X(F.HeaderCell,null,\"Amount\"),X(F.HeaderCell,null,\"Recipient\"),X(F.HeaderCell,null,\"Approval Count\"),X(F.HeaderCell,null,\"Approve\"),X(F.HeaderCell,null,\"Finalize\"))),X(F.Body,null,this.renderRow())),X(\"div\",null,\"Found \",this.props.requestCount,\" requests.\"))}}],[{key:\"getInitialProps\",value:function(e){var t,a,r,l,c;return n.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.query.address,a=Object(_.a)(t),s.next=4,n.a.awrap(a.methods.getRequestCount().call());case 4:return r=s.sent,s.next=7,n.a.awrap(a.methods.approversCount().call());case 7:return l=s.sent,s.next=10,n.a.awrap(Promise.all(Array(parseInt(r)).fill().map((function(e,t){return a.methods.requests(t).call()}))));case 10:return c=s.sent,s.abrupt(\"return\",{address:t,requests:c,requestCount:r,approversCount:l});case 12:case\"end\":return s.stop()}}),null,null,null,Promise)}}]),a}(u.Component);t.default=K},aBwU:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/campaigns/requests\",function(){return a(\"Mybo\")}])}},[[\"aBwU\",0,2,1,3,5]]]);","extractedComments":[]}